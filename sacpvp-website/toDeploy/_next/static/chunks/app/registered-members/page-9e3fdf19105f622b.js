(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{3405:function(e,r,t){Promise.resolve().then(t.bind(t,239))},239:function(e,r,t){"use strict";t.d(r,{default:function(){return v}});var s=t(7437),a=t(2265),n=t(5475),i=t(3247),c=t(9205);let l=(0,c.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),m=(0,c.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var o=t(9322),d=t(2369),u=t(1671),_=t(3774);let h={"MembersEasternCape.csv":"Eastern Cape","MembersFreeState.csv":"Free State","MembersGauteng.csv":"Gauteng","MembersLimpopo.csv":"Limpopo","MembersMpumalanga.csv":"Mpumalanga","MembersNatal.csv":"KwaZulu-Natal","MembersNorthernCape.csv":"Northern Cape","MembersNorthWest.csv":"North West","MembersWesterProvince.csv":"Western Cape"};function b(e){let r=[],t="",s=!1;for(let a=0;a<e.length;a++){let n=e[a];'"'===n?s=!s:","!==n||s?t+=n:(r.push(t.trim()),t="")}return r.push(t.trim()),r}async function g(){let e=[],r=Object.keys(h);try{let t=r.map(async e=>{try{let r=await fetch("/members/".concat(e));if(!r.ok)return console.warn("Failed to fetch ".concat(e,":"),r.statusText),[];let t=await r.text(),s=h[e];return function(e,r){let t=e.split("\n").filter(e=>e.trim());if(t.length<2)return[];let s=b(t[0]),a=[];for(let e=1;e<t.length;e++){let n=b(t[e]);if(n.length!==s.length)continue;let i=n[3]||"";if("\\N"===i||""===i||"null"===i)continue;let c={surname:n[0]||"",firstName:n[1]||"",province:r,regType:i};a.push(c)}return a}(t,s)}catch(r){return console.warn("Error fetching ".concat(e,":"),r),[]}});return(await Promise.all(t)).forEach(r=>e.push(...r)),e}catch(e){return console.error("Error fetching members from CSV files:",e),[]}}var f=t(5643),p=t.n(f);function v(){let e=(0,n.useSearchParams)().get("search")||"",[r,t]=(0,a.useState)(e),[c,b]=(0,a.useState)([]),[f,v]=(0,a.useState)([]),[x,N]=(0,a.useState)(""),[j,y]=(0,a.useState)(!!e),[C,I]=(0,a.useState)(!0),[S,k]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{I(!0),k(null);let e=await g();v(e)}catch(e){k("Failed to load member data. Please try again later."),console.error("Error loading members:",e)}finally{I(!1)}})()},[]),(0,a.useEffect)(()=>{let e=f;x&&(e=e.filter(e=>e.province===x)),""!==r.trim()&&(e=e.filter(e=>e.firstName.toLowerCase().includes(r.toLowerCase())||e.surname.toLowerCase().includes(r.toLowerCase()))),b(e),y(""!==r.trim()||""!==x)},[r,x,f]);let w=e=>{switch(e){case"Prof Valuer":return p().statusProfessional;case"Prof Associated Valuer":return p().statusAssociated;case"Candidate Valuer":case"Candidate Valuers":case"Candidate Single Residential":return p().statusCandidate;default:return""}};return(0,s.jsx)("div",{className:p().membersPage,children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{className:p().searchSection,children:[(0,s.jsx)("h1",{className:p().title,children:"Registered Persons"}),(0,s.jsx)("p",{className:p().description,children:"Search for registered property valuers by name or filter by province"}),(0,s.jsx)("div",{className:p().searchContainer,children:(0,s.jsxs)("div",{className:p().searchBox,children:[(0,s.jsx)(i.Z,{className:p().searchIcon}),(0,s.jsx)("input",{type:"text",placeholder:"Enter name to search...",value:r,onChange:e=>t(e.target.value),className:p().searchInput}),r&&(0,s.jsx)("button",{className:p().clearButton,onClick:()=>t(""),children:"\xd7"})]})}),(0,s.jsx)("div",{className:p().filterContainer,children:(0,s.jsxs)("div",{className:p().filterBox,children:[(0,s.jsx)(l,{className:p().filterIcon}),(0,s.jsxs)("select",{value:x,onChange:e=>N(e.target.value),className:p().provinceSelect,children:[(0,s.jsx)("option",{value:"",children:"All Provinces"}),Object.values(h).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),x&&(0,s.jsx)("button",{className:p().clearFilterButton,onClick:()=>N(""),title:"Clear filter",children:"\xd7"})]})})]}),(0,s.jsxs)("div",{className:p().resultsSection,children:[C&&(0,s.jsxs)("div",{className:p().loadingState,children:[(0,s.jsx)(m,{size:48,className:p().loadingIcon}),(0,s.jsx)("h2",{children:"Loading member data..."}),(0,s.jsx)("p",{children:"Please wait while we load the member database"})]}),S&&(0,s.jsxs)("div",{className:p().errorState,children:[(0,s.jsx)(o.Z,{size:48,className:p().errorIcon}),(0,s.jsx)("h2",{children:"Error loading data"}),(0,s.jsx)("p",{children:S})]}),!C&&!S&&j&&(0,s.jsx)(s.Fragment,{children:c.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("h2",{className:p().resultsTitle,children:["Search Results (",c.length,")"]}),(0,s.jsx)("div",{className:p().membersList,children:c.map((e,r)=>(0,s.jsxs)("div",{className:p().memberCard,children:[(0,s.jsxs)("div",{className:p().memberHeader,children:[(0,s.jsx)("div",{className:p().avatarContainer,children:(0,s.jsx)(d.Z,{size:24,className:p().avatarIcon})}),(0,s.jsxs)("div",{className:p().memberInfo,children:[(0,s.jsxs)("h3",{className:p().memberName,children:[e.firstName," ",e.surname]}),(0,s.jsxs)("div",{className:"".concat(p().memberStatus," ").concat(w(e.regType)),children:[(0,s.jsx)(u.Z,{size:14}),(0,s.jsx)("span",{children:e.regType})]})]})]}),(0,s.jsx)("div",{className:p().memberDetails,children:(0,s.jsxs)("div",{className:p().detailItem,children:[(0,s.jsx)(_.Z,{size:16,className:p().detailIcon}),(0,s.jsxs)("span",{className:p().provinceInfo,children:[(0,s.jsx)("strong",{children:"Province:"})," ",e.province]})]})})]},"".concat(e.surname,"-").concat(e.firstName,"-").concat(e.province,"-").concat(r)))})]}):(0,s.jsxs)("div",{className:p().noResults,children:[(0,s.jsx)(o.Z,{size:48,className:p().noResultsIcon}),(0,s.jsx)("h2",{children:"No members found"}),(0,s.jsx)("p",{children:"Try a different search term or check the spelling"})]})}),!C&&!S&&!j&&(0,s.jsxs)("div",{className:p().searchPrompt,children:[(0,s.jsx)(i.Z,{size:48,className:p().promptIcon}),(0,s.jsx)("p",{children:"Enter a name to search for members or select a province to filter"})]})]})]})})}},9205:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var s=t(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:l,className:m="",children:o,iconNode:d,...u}=e;return(0,s.createElement)("svg",{ref:r,...i,width:a,height:a,stroke:t,strokeWidth:l?24*Number(c)/Number(a):c,className:n("lucide",m),...u},[...d.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(o)?o:[o]])}),l=(e,r)=>{let t=(0,s.forwardRef)((t,i)=>{let{className:l,...m}=t;return(0,s.createElement)(c,{ref:i,iconNode:r,className:n("lucide-".concat(a(e)),l),...m})});return t.displayName="".concat(e),t}},9322:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3774:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3247:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2369:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5643:function(e){e.exports={membersPage:"registered-members_membersPage__q__uf",searchSection:"registered-members_searchSection__2taO4",title:"registered-members_title__tpc7X",description:"registered-members_description__T3X9x",searchContainer:"registered-members_searchContainer___A46X",filterContainer:"registered-members_filterContainer__Y17Yt",searchBox:"registered-members_searchBox__L4FER",searchIcon:"registered-members_searchIcon__qmkV0",searchInput:"registered-members_searchInput__mUERH",clearButton:"registered-members_clearButton__L7C5B",filterBox:"registered-members_filterBox__kHk7m",filterIcon:"registered-members_filterIcon__8yKX5",provinceSelect:"registered-members_provinceSelect__PF_g0",clearFilterButton:"registered-members_clearFilterButton__rpM4W",resultsSection:"registered-members_resultsSection__OnWaa",resultsTitle:"registered-members_resultsTitle__bhiyI",membersList:"registered-members_membersList__E1OPI",memberCard:"registered-members_memberCard__kQjoP",memberHeader:"registered-members_memberHeader__XqDCd",avatarContainer:"registered-members_avatarContainer__C1XPs",avatarIcon:"registered-members_avatarIcon__nHBII",memberInfo:"registered-members_memberInfo__xyo2N",memberName:"registered-members_memberName__It3m_",memberStatus:"registered-members_memberStatus__pYSSm",statusProfessional:"registered-members_statusProfessional__uOqRX",statusAssociated:"registered-members_statusAssociated__Z8qER",statusCandidate:"registered-members_statusCandidate__waXri",memberDetails:"registered-members_memberDetails__Cypo5",detailItem:"registered-members_detailItem__mTafa",detailIcon:"registered-members_detailIcon__IePwR",activeIcon:"registered-members_activeIcon__aNuJJ",inactiveIcon:"registered-members_inactiveIcon__lB94t",activeStatus:"registered-members_activeStatus__j2wqQ",inactiveStatus:"registered-members_inactiveStatus__0CFrB",noResults:"registered-members_noResults__Y4rbT",noResultsIcon:"registered-members_noResultsIcon__BunQY",searchPrompt:"registered-members_searchPrompt__rVaIG",promptIcon:"registered-members_promptIcon__BrIuW",loadingState:"registered-members_loadingState__TS_LL",loadingIcon:"registered-members_loadingIcon__pyiRR",spin:"registered-members_spin__A3Yql",errorState:"registered-members_errorState__BCo3p",errorIcon:"registered-members_errorIcon__N7n2c",provinceInfo:"registered-members_provinceInfo__gUM_f"}}},function(e){e.O(0,[34,971,117,744],function(){return e(e.s=3405)}),_N_E=e.O()}]);