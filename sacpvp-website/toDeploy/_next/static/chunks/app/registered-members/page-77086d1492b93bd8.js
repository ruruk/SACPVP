(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{3405:function(e,r,s){Promise.resolve().then(s.bind(s,97))},97:function(e,r,s){"use strict";s.d(r,{default:function(){return f}});var t=s(7437),a=s(2265),n=s(5475),i=s(3247);let c=(0,s(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var m=s(9322),l=s(2369),o=s(1671),d=s(3774);let u={"MembersEasternCape.csv":"Eastern Cape","MembersFreeState.csv":"Free State","MembersGauteng.csv":"Gauteng","MembersLimpopo.csv":"Limpopo","MembersMpumalanga.csv":"Mpumalanga","MembersNatal.csv":"KwaZulu-Natal","MembersNorthernCape.csv":"Northern Cape","MembersNorthWest.csv":"North West","MembersWesterProvince.csv":"Western Cape"};function _(e){let r=[],s="",t=!1;for(let a=0;a<e.length;a++){let n=e[a];'"'===n?t=!t:","!==n||t?s+=n:(r.push(s.trim()),s="")}return r.push(s.trim()),r}async function h(){let e=[],r=Object.keys(u);try{let s=r.map(async e=>{try{let r=await fetch("/members/".concat(e));if(!r.ok)return console.warn("Failed to fetch ".concat(e,":"),r.statusText),[];let s=await r.text(),t=u[e];return function(e,r){let s=e.split("\n").filter(e=>e.trim());if(s.length<2)return[];let t=_(s[0]),a=[];for(let e=1;e<s.length;e++){let n=_(s[e]);if(n.length!==t.length)continue;let i=n[3]||"";if("\\N"===i||""===i||"null"===i)continue;let c={surname:n[0]||"",firstName:n[1]||"",province:r,regType:i};a.push(c)}return a}(s,t)}catch(r){return console.warn("Error fetching ".concat(e,":"),r),[]}});return(await Promise.all(s)).forEach(r=>e.push(...r)),e}catch(e){return console.error("Error fetching members from CSV files:",e),[]}}var b=s(5643),g=s.n(b);function f(){let e=(0,n.useSearchParams)().get("search")||"",[r,s]=(0,a.useState)(e),[u,_]=(0,a.useState)([]),[b,f]=(0,a.useState)([]),[p,v]=(0,a.useState)(!!e),[x,N]=(0,a.useState)(!0),[j,y]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{N(!0),y(null);let e=await h();f(e)}catch(e){y("Failed to load member data. Please try again later."),console.error("Error loading members:",e)}finally{N(!1)}})()},[]),(0,a.useEffect)(()=>{if(""===r.trim()){_([]),v(!1);return}v(!0),_(b.filter(e=>e.firstName.toLowerCase().includes(r.toLowerCase())||e.surname.toLowerCase().includes(r.toLowerCase())))},[r,b]);let I=e=>{switch(e){case"Prof Valuer":return g().statusProfessional;case"Prof Associated Valuer":return g().statusAssociated;case"Candidate Valuer":case"Candidate Valuers":case"Candidate Single Residential":return g().statusCandidate;default:return""}};return(0,t.jsx)("div",{className:g().membersPage,children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:g().searchSection,children:[(0,t.jsx)("h1",{className:g().title,children:"Registered Persons"}),(0,t.jsx)("p",{className:g().description,children:"Search for registered property valuers by name"}),(0,t.jsx)("div",{className:g().searchContainer,children:(0,t.jsxs)("div",{className:g().searchBox,children:[(0,t.jsx)(i.Z,{className:g().searchIcon}),(0,t.jsx)("input",{type:"text",placeholder:"Enter name to search...",value:r,onChange:e=>s(e.target.value),className:g().searchInput}),r&&(0,t.jsx)("button",{className:g().clearButton,onClick:()=>s(""),children:"\xd7"})]})})]}),(0,t.jsxs)("div",{className:g().resultsSection,children:[x&&(0,t.jsxs)("div",{className:g().loadingState,children:[(0,t.jsx)(c,{size:48,className:g().loadingIcon}),(0,t.jsx)("h2",{children:"Loading member data..."}),(0,t.jsx)("p",{children:"Please wait while we load the member database"})]}),j&&(0,t.jsxs)("div",{className:g().errorState,children:[(0,t.jsx)(m.Z,{size:48,className:g().errorIcon}),(0,t.jsx)("h2",{children:"Error loading data"}),(0,t.jsx)("p",{children:j})]}),!x&&!j&&p&&(0,t.jsx)(t.Fragment,{children:u.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("h2",{className:g().resultsTitle,children:["Search Results (",u.length,")"]}),(0,t.jsx)("div",{className:g().membersList,children:u.map((e,r)=>(0,t.jsxs)("div",{className:g().memberCard,children:[(0,t.jsxs)("div",{className:g().memberHeader,children:[(0,t.jsx)("div",{className:g().avatarContainer,children:(0,t.jsx)(l.Z,{size:24,className:g().avatarIcon})}),(0,t.jsxs)("div",{className:g().memberInfo,children:[(0,t.jsxs)("h3",{className:g().memberName,children:[e.firstName," ",e.surname]}),(0,t.jsxs)("div",{className:"".concat(g().memberStatus," ").concat(I(e.regType)),children:[(0,t.jsx)(o.Z,{size:14}),(0,t.jsx)("span",{children:e.regType})]})]})]}),(0,t.jsx)("div",{className:g().memberDetails,children:(0,t.jsxs)("div",{className:g().detailItem,children:[(0,t.jsx)(d.Z,{size:16,className:g().detailIcon}),(0,t.jsxs)("span",{className:g().provinceInfo,children:[(0,t.jsx)("strong",{children:"Province:"})," ",e.province]})]})})]},"".concat(e.surname,"-").concat(e.firstName,"-").concat(e.province,"-").concat(r)))})]}):(0,t.jsxs)("div",{className:g().noResults,children:[(0,t.jsx)(m.Z,{size:48,className:g().noResultsIcon}),(0,t.jsx)("h2",{children:"No members found"}),(0,t.jsx)("p",{children:"Try a different search term or check the spelling"})]})}),!x&&!j&&!p&&(0,t.jsxs)("div",{className:g().searchPrompt,children:[(0,t.jsx)(i.Z,{size:48,className:g().promptIcon}),(0,t.jsx)("p",{children:"Enter a name to search for members"})]})]})]})})}},9205:function(e,r,s){"use strict";s.d(r,{Z:function(){return m}});var t=s(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return r.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,t.forwardRef)((e,r)=>{let{color:s="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:m,className:l="",children:o,iconNode:d,...u}=e;return(0,t.createElement)("svg",{ref:r,...i,width:a,height:a,stroke:s,strokeWidth:m?24*Number(c)/Number(a):c,className:n("lucide",l),...u},[...d.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(o)?o:[o]])}),m=(e,r)=>{let s=(0,t.forwardRef)((s,i)=>{let{className:m,...l}=s;return(0,t.createElement)(c,{ref:i,iconNode:r,className:n("lucide-".concat(a(e)),m),...l})});return s.displayName="".concat(e),s}},9322:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3774:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3247:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2369:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5643:function(e){e.exports={membersPage:"registered-members_membersPage__q__uf",searchSection:"registered-members_searchSection__2taO4",title:"registered-members_title__tpc7X",description:"registered-members_description__T3X9x",searchContainer:"registered-members_searchContainer___A46X",searchBox:"registered-members_searchBox__L4FER",searchIcon:"registered-members_searchIcon__qmkV0",searchInput:"registered-members_searchInput__mUERH",clearButton:"registered-members_clearButton__L7C5B",resultsSection:"registered-members_resultsSection__OnWaa",resultsTitle:"registered-members_resultsTitle__bhiyI",membersList:"registered-members_membersList__E1OPI",memberCard:"registered-members_memberCard__kQjoP",memberHeader:"registered-members_memberHeader__XqDCd",avatarContainer:"registered-members_avatarContainer__C1XPs",avatarIcon:"registered-members_avatarIcon__nHBII",memberInfo:"registered-members_memberInfo__xyo2N",memberName:"registered-members_memberName__It3m_",memberStatus:"registered-members_memberStatus__pYSSm",statusProfessional:"registered-members_statusProfessional__uOqRX",statusAssociated:"registered-members_statusAssociated__Z8qER",statusCandidate:"registered-members_statusCandidate__waXri",memberDetails:"registered-members_memberDetails__Cypo5",detailItem:"registered-members_detailItem__mTafa",detailIcon:"registered-members_detailIcon__IePwR",activeIcon:"registered-members_activeIcon__aNuJJ",inactiveIcon:"registered-members_inactiveIcon__lB94t",activeStatus:"registered-members_activeStatus__j2wqQ",inactiveStatus:"registered-members_inactiveStatus__0CFrB",noResults:"registered-members_noResults__Y4rbT",noResultsIcon:"registered-members_noResultsIcon__BunQY",searchPrompt:"registered-members_searchPrompt__rVaIG",promptIcon:"registered-members_promptIcon__BrIuW",loadingState:"registered-members_loadingState__TS_LL",loadingIcon:"registered-members_loadingIcon__pyiRR",spin:"registered-members_spin__A3Yql",errorState:"registered-members_errorState__BCo3p",errorIcon:"registered-members_errorIcon__N7n2c",provinceInfo:"registered-members_provinceInfo__gUM_f"}}},function(e){e.O(0,[34,971,117,744],function(){return e(e.s=3405)}),_N_E=e.O()}]);